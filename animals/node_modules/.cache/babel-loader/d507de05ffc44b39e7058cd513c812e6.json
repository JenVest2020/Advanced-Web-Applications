{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jennifer\\\\Documents\\\\LambdaSchool\\\\ptUnit9ADVwebApp\\\\Advanced-Web-Applications\\\\animals\\\\src\\\\components\\\\AnimalForm.js\";\nimport React, { useState } from \"react\";\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\nconst initialAnimal = {\n  name: '',\n  sound: '',\n  classification: {\n    species: ''\n  }\n};\nexport default function AnimalForm({\n  animals,\n  updateAnimals,\n  setDependency\n}) {\n  const [updating, setUpdating] = useState(false);\n  const [animalToUpdate, setAnimalToUpdate] = useState(initialAnimal);\n\n  const editAnimal = animal => {\n    setUpdating(true);\n    setAnimalToUpdate(animal);\n  };\n\n  const saveUpdate = e => {\n    e.preventDefault(); // How can we update the animal information?\n    // Where can we get the ID? \n    // Where is the information stored?\n\n    axiosWithAuth().put(`animals/${animalToUpdate.id}`, animalToUpdate).then(res => {\n      console.log('from AF: update successful: res', res.data);\n      setDependency(true);\n    }).catch(err => console.error('from AF: update failed: err', err.message));\n  };\n\n  const deleteAnimal = animal => {\n    // How can we delete an animal?\n    axiosWithAuth().delete(`animals/${animalToUpdate.id}`, animal).then(res => {\n      console.log('from AF: delete successful: res', res.data);\n      updateAnimals(animals);\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"animals-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    className: \"organized\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, animals.map(animal => React.createElement(\"li\", {\n    key: animal.name,\n    onClick: () => editAnimal(animal),\n    className: \"edit-animals\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    onClick: e => {\n      e.stopPropagation();\n      deleteAnimal(animal);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"X\"), \" \", animal.name)))), updating && React.createElement(\"form\", {\n    onSubmit: saveUpdate,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(\"legend\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Update Animal\"), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }, \"Name:\", React.createElement(\"input\", {\n    onChange: e => setAnimalToUpdate({ ...animalToUpdate,\n      name: e.target.value\n    }),\n    value: animalToUpdate.name,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, \"Sound:\", React.createElement(\"input\", {\n    onChange: e => setAnimalToUpdate({ ...animalToUpdate,\n      sound: e.target.value\n    }),\n    value: animalToUpdate.sound,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  })), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, \"Classification:\", React.createElement(\"input\", {\n    onChange: e => setAnimalToUpdate({ ...animalToUpdate,\n      classification: {\n        species: e.target.value\n      }\n    }),\n    value: animalToUpdate.classification.species,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, \"Update\"), React.createElement(\"button\", {\n    onClick: () => setUpdating(false),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Cancel\"))));\n}","map":{"version":3,"sources":["C:/Users/Jennifer/Documents/LambdaSchool/ptUnit9ADVwebApp/Advanced-Web-Applications/animals/src/components/AnimalForm.js"],"names":["React","useState","axiosWithAuth","initialAnimal","name","sound","classification","species","AnimalForm","animals","updateAnimals","setDependency","updating","setUpdating","animalToUpdate","setAnimalToUpdate","editAnimal","animal","saveUpdate","e","preventDefault","put","id","then","res","console","log","data","catch","err","error","message","deleteAnimal","delete","map","stopPropagation","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { axiosWithAuth } from \"../utils/axiosWithAuth\";\r\n\r\nconst initialAnimal = {\r\n    name: '',\r\n    sound: '',\r\n    classification: { species: '' }\r\n}\r\n\r\nexport default function AnimalForm({ animals, updateAnimals, setDependency }) {\r\n\r\n    const [updating, setUpdating] = useState(false);\r\n    const [animalToUpdate, setAnimalToUpdate] = useState(initialAnimal);\r\n\r\n    const editAnimal = animal => {\r\n        setUpdating(true);\r\n        setAnimalToUpdate(animal);\r\n    }\r\n\r\n    const saveUpdate = e => {\r\n        e.preventDefault();\r\n        // How can we update the animal information?\r\n        // Where can we get the ID? \r\n        // Where is the information stored?\r\n        axiosWithAuth()\r\n            .put(`animals/${animalToUpdate.id}`, animalToUpdate)\r\n            .then(res => {\r\n                console.log('from AF: update successful: res', res.data)\r\n                setDependency(true)\r\n            })\r\n            .catch(err => console.error('from AF: update failed: err', err.message))\r\n    }\r\n\r\n    const deleteAnimal = animal => {\r\n        // How can we delete an animal?\r\n        axiosWithAuth()\r\n        .delete(`animals/${animalToUpdate.id}`, animal)\r\n        .then(res => {\r\n            console.log('from AF: delete successful: res', res.data)\r\n            updateAnimals(animals)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"animals-list\">\r\n            <ul className=\"organized\">\r\n                {animals.map(animal => (\r\n                    <li key={animal.name} onClick={() => editAnimal(animal)} className=\"edit-animals\">\r\n                        <span>\r\n                            <span onClick={e => {\r\n                                e.stopPropagation();\r\n                                deleteAnimal(animal)\r\n                            }\r\n                            } >\r\n                                X\r\n                            </span>{\" \"}\r\n                            {animal.name}\r\n                        </span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            {updating && (\r\n                <form onSubmit={saveUpdate}>\r\n                    <legend>Update Animal</legend>\r\n                    <label>\r\n                        Name:\r\n                        <input\r\n                            onChange={e =>\r\n                                setAnimalToUpdate({ ...animalToUpdate, name: e.target.value })\r\n                            }\r\n                            value={animalToUpdate.name}\r\n                        />\r\n                    </label>\r\n                    <label>\r\n                        Sound:\r\n                        <input\r\n                            onChange={e =>\r\n                                setAnimalToUpdate({ ...animalToUpdate, sound: e.target.value })\r\n                            }\r\n                            value={animalToUpdate.sound}\r\n                        />\r\n                    </label>\r\n                    <label>\r\n                        Classification:\r\n                        <input\r\n                            onChange={e =>\r\n                                setAnimalToUpdate({\r\n                                    ...animalToUpdate,\r\n                                    classification: { species: e.target.value }\r\n                                })\r\n                            }\r\n                            value={animalToUpdate.classification.species}\r\n                        />\r\n                    </label>\r\n                    <div>\r\n                        <button type=\"submit\">Update</button>\r\n                        <button onClick={() => setUpdating(false)}>Cancel</button>\r\n                    </div>\r\n                </form>\r\n            )}\r\n        </div>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}